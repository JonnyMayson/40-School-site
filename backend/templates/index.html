{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="hero">
    <div class="container hero-grid">
        <div class="hero-text">
            {% if user.is_staff %}
            {% if hero_block %}
            <a href="{% url 'admin:content_heroblock_change' hero_block.id %}" class="admin-edit-btn" target="_blank">‚úèÔ∏è
                Edit Hero</a>
            {% else %}
            <a href="{% url 'admin:content_heroblock_add' %}?title=–ú–µ–∫—Ç–µ–ø—Ç–µ–≥—ñ –æ“õ—É-—Ç”ô—Ä–±–∏–µ –ø—Ä–æ—Ü–µ—Å—Ç–µ—Ä—ñ–Ω –±—ñ–∑–±–µ–Ω –±—ñ—Ä–≥–µ —Ä–µ—Ç—Ç–µ“£—ñ–∑&description=Qundylyq ‚Äî ¬´–ë—ñ–ª—ñ–º-–∏–Ω–Ω–æ–≤–∞—Ü–∏—è¬ª –ª–∏—Ü–µ–π–ª–µ—Ä—ñ–Ω—ñ“£ —Ç–∞–±—ã—Å—Ç—ã —Ç”ô–∂—ñ—Ä–∏–±–µ—Å—ñ–Ω–µ –Ω–µ–≥—ñ–∑–¥–µ–ª–≥–µ–Ω “õ“±–Ω–¥—ã–ª—ã“õ“õ–∞ –±–∞“ì—ã—Ç—Ç–∞–ª“ì–∞–Ω –±—ñ–ª—ñ–º –±–µ—Ä—É–¥—ñ –µ–Ω–≥—ñ–∑—É–≥–µ –∫”©–º–µ–∫—Ç–µ—Å–µ–º—ñ–∑."
                class="admin-edit-btn" target="_blank">‚ûï Create Hero (Edit Default)</a>
            {% endif %}
            {% endif %}
            <div style="color: var(--accent); font-weight: 600; margin-bottom: 10px;">–ë–Ü–õ–Ü–ú –ë–ï–†–£ –û–†–¢–ê–õ–´“í–´</div>
            <h1 class="hero-title">
                {% if hero_block and hero_block.title %}
                {{ hero_block.title }}
                {% else %}
                –ú–µ–∫—Ç–µ–ø—Ç–µ–≥—ñ –æ“õ—É-—Ç”ô—Ä–±–∏–µ –ø—Ä–æ—Ü–µ—Å—Ç–µ—Ä—ñ–Ω –±—ñ–∑–±–µ–Ω –±—ñ—Ä–≥–µ —Ä–µ—Ç—Ç–µ“£—ñ–∑
                {% endif %}
            </h1>
            <p class="hero-desc">
                {% if hero_block and hero_block.description %}
                {{ hero_block.description }}
                {% else %}
                Qundylyq ‚Äî ¬´–ë—ñ–ª—ñ–º-–∏–Ω–Ω–æ–≤–∞—Ü–∏—è¬ª –ª–∏—Ü–µ–π–ª–µ—Ä—ñ–Ω—ñ“£ —Ç–∞–±—ã—Å—Ç—ã —Ç”ô–∂—ñ—Ä–∏–±–µ—Å—ñ–Ω–µ –Ω–µ–≥—ñ–∑–¥–µ–ª–≥–µ–Ω “õ“±–Ω–¥—ã–ª—ã“õ“õ–∞ –±–∞“ì—ã—Ç—Ç–∞–ª“ì–∞–Ω
                –±—ñ–ª—ñ–º –±–µ—Ä—É–¥—ñ –µ–Ω–≥—ñ–∑—É–≥–µ –∫”©–º–µ–∫—Ç–µ—Å–µ–º—ñ–∑.
                {% endif %}
            </p>
            <a href="#" class="btn btn-primary">–¢–æ–ª—ã“ì—ã—Ä–∞“õ –±—ñ–ª—É</a>
            <a href="#" class="btn btn-outline" style="margin-left: 10px;">–í–∏–¥–µ–æ –∫”©—Ä—É</a>
        </div>
        <div class="hero-img"
            style="{% if hero_block and hero_block.image %}background-image: url('{{ hero_block.image.url }}'); background-size: cover; background-position: center;{% endif %}">
            {% if user.is_staff %}
            {% if hero_block %}
            <a href="{% url 'admin:content_heroblock_change' hero_block.id %}" class="admin-edit-btn" target="_blank"
                style="z-index: 10;">üì∑ Change Image</a>
            {% else %}
            <a href="{% url 'admin:content_heroblock_add' %}" class="admin-edit-btn" target="_blank"
                style="z-index: 10;">‚ûï Add Image</a>
            {% endif %}
            {% endif %}
        </div>
    </div>
</section>

<section class="stats">
    <div class="container stats-grid">
        <div class="stat-item">
            <h3>+400</h3>
            <p>–ú–µ–∫—Ç–µ–ø “õ–æ—Å—ã–ª–¥—ã</p>
        </div>
        <div class="stat-item">
            <h3>+10k</h3>
            <p>–ú“±“ì–∞–ª—ñ–º –æ“õ—ã—Ç—ã–ª–¥—ã</p>
        </div>
        <div class="stat-item">
            <h3>+2500</h3>
            <p>–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—Ç–∞—Ä</p>
        </div>
        <div class="stat-item">
            <h3>95%</h3>
            <p>–û“£ –Ω”ô—Ç–∏–∂–µ–ª–µ—Ä</p>
        </div>
    </div>
</section>

<section class="principles">
    <div class="container">
        <div class="section-header">
            <h2>–ë—ñ–∑–¥—ñ“£ “õ–∞“ì–∏–¥–∞–ª–∞—Ä—ã–º—ã–∑</h2>
            <p>–ê–¥–∞–º–≥–µ—Ä—à—ñ–ª—ñ–∫, “õ“±—Ä–º–µ—Ç –∂”ô–Ω–µ –∂–∞–π–ª—ã –±—ñ–ª—ñ–º –±–µ—Ä—É –æ—Ä—Ç–∞—Å—ã–Ω “õ–∞–ª—ã–ø—Ç–∞—Å—Ç—ã—Ä—É</p>
        </div>
        <div class="swiper principlesSwiper">
            <div class="swiper-wrapper">
                {% for principle in principles %}
                <div class="swiper-slide card">
                    {% if user.is_staff %}
                    <a href="{% url 'admin:content_principleblock_change' principle.id %}" class="admin-edit-btn"
                        target="_blank">‚úèÔ∏è Edit</a>
                    {% endif %}
                    <div class="icon-box"><i class="{{ principle.icon }}"></i></div>
                    <h4>{{ principle.title }}</h4>
                    <p style="color: #666;">{{ principle.description }}</p>
                </div>
                {% endfor %}
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </div>
</section>

<section class="projects">
    <div class="container">
        <div class="section-header">
            <h2>–ë—ñ–∑–¥—ñ“£ –ñ–æ–±–∞–ª–∞—Ä</h2>
            <p>–ê–≤—Ç–æ—Ä–ª—ã“õ –∫—É—Ä—Å—Ç–∞—Ä –∂”ô–Ω–µ ”ô–¥—ñ—Å—Ç–µ–º–µ–ª—ñ–∫ “õ“±—Ä–∞–ª–¥–∞—Ä</p>
        </div>

        <div class="swiper mySwiper">
            <div class="swiper-wrapper">
                {% for block in blocks %}
                <div class="swiper-slide project-slide">
                    {% if user.is_staff %}
                    <a href="{% url 'admin:content_photoblock_change' block.id %}" class="admin-edit-btn"
                        target="_blank">‚úèÔ∏è Edit</a>
                    {% endif %}
                    <div class="slide-img"
                        style="background-image: url('{{ block.image.url }}'); background-size: cover; background-position: center;">
                    </div>
                    <div class="slide-content">
                        {% if block.tag %}
                        <span class="slide-tag">{{ block.tag }}</span>
                        {% endif %}
                        <h3 class="slide-title">{{ block.title }}</h3>
                        <p class="slide-desc">{{ block.description }}</p>
                        {% if block.link %}
                        <a href="{{ block.link }}" class="slide-link">–¢–æ–ª—ã“ì—ã—Ä–∞“õ &rarr;</a>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </div>
</section>

<section class="team" style="padding: 100px 0; background: #fff;">
    <div class="container">
        <div class="section-header">
            <h2>QUNDYLYQ –ö–û–ú–ê–ù–î–ê–°–´</h2>
            <p>–ë—ñ–∑–¥—ñ“£ –∫”ô—Å—ñ–±–∏ –º–∞–º–∞–Ω–¥–∞—Ä</p>
        </div>
        <div class="team-grid"
            style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 30px; margin-top: 50px;">
            {% for category in team_categories %}
            <div class="team-category-card"
                style="position: relative; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); text-align: center; transition: transform 0.3s ease;">
                {% if user.is_staff %}
                <a href="{% url 'admin:content_teamcategory_change' category.id %}" class="admin-edit-btn"
                    target="_blank" style="z-index: 10;">‚úèÔ∏è Edit</a>
                {% endif %}

                <a href="{% url 'team_detail' category.id %}"
                    style="text-decoration: none; color: inherit; display: block;">
                    <div
                        style="width: 100%; height: 200px; margin: 0 auto 20px; background: #f0f4f8; border-radius: 15px; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                        {% if category.image %}
                        <img src="{{ category.image.url }}" alt="{{ category.title }}"
                            style="width: 100%; height: 100%; object-fit: cover;">
                        {% else %}
                        <span style="font-size: 30px; color: var(--primary);">üë•</span>
                        {% endif %}
                    </div>
                    <h3 style="margin: 0; font-size: 18px; color: var(--dark);">{{ category.title }}</h3>
                </a>
            </div>
            {% endfor %}

            {% if user.is_staff %}
            <div class="team-category-card add-new"
                style="display: flex; align-items: center; justify-content: center; border: 2px dashed #ddd; background: transparent; min-height: 200px; border-radius: 15px;">
                <a href="{% url 'admin:content_teamcategory_add' %}" target="_blank"
                    style="text-decoration: none; color: #888; display: flex; flex-direction: column; align-items: center; gap: 10px;">
                    <span style="font-size: 40px;">‚ûï</span>
                    <span>Add Category</span>
                </a>
            </div>
            {% endif %}
        </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
    var swiper = new Swiper(".mySwiper", {
        slidesPerView: 1,
        spaceBetween: 30,
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
        },
        breakpoints: {
            640: { slidesPerView: 2 },
            1024: { slidesPerView: 3 },
        },
    });

    var principlesSwiper = new Swiper(".principlesSwiper", {
        slidesPerView: 1,
        spaceBetween: 30,
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
        },
        breakpoints: {
            640: { slidesPerView: 2 },
            1024: { slidesPerView: 3 },
        },
    });
</script>
{% endblock %}